define(["source/weaponFactory","source/enum"],function(e,t){var n=function(e,t){this.name=e,this.role=t,this.weapons=[],this.trackedGunners=[],this.isShot=!1};return n.prototype.start=function(){var n=e.makePlates(10,t.SHAPE_PLATE.ROUND,15);this.addWeapon(n),this.weapons.forEach(function(e,t){e.setPosition(t*100,10)})},n.prototype.addWeapon=function(e){var t=this.weapons;e.forEach(function(e){t.push(e)})},n.prototype.fireGunners=function(){this.isShot&&this.weapons.forEach(function(e){e.update(this.trackedGunners)},this)},n.prototype.trackGunners=function(e){this.trackedGunners=e},n.prototype.update=function(){this.weapons.forEach(function(e){e.update()},this)},n.prototype.render=function(e){this.weapons.forEach(function(t){t.render(e)})},n.prototype.removeDiedWeapons=function(){var e=this.weapons;for(var t=e.length-1;t>=0;t--){var n=e[t];n.isDied&&e.splice(t,1)}},n});